<?php

namespace App;

use Exception;



enum FieldType: string
{
    case INTEGER = 'INT';              // ціле число
    case TEXT = 'VARCHAR(255)';        // текст обмеженої довжини
    case REAL = 'DOUBLE';              // дійсне число
    case BLOB = 'BLOB';
    case BOOL = 'BOOL';            // булеве значення
    case NULL = 'NULL';                // NULL тип — рідко використовується явно

    case DATE = 'DATE';
    case DATETIME = 'DATETIME';
}

class Migration
{
    private static $tables = [
        "users" => [
            ["login", FieldType::TEXT, true],
            ["email", FieldType::TEXT, true],
            ["password", FieldType::TEXT, true],
            ["sex", FieldType::TEXT],
            ["height", FieldType::INTEGER],
            ["age", FieldType::INTEGER],
            ["date_of_birth", FieldType::TEXT, true],
            ["activity_level", FieldType::TEXT, true],
            ["norms", FieldType::TEXT, true],
        ],
        "products" => [
            ["title", FieldType::TEXT],
            ["kcal", FieldType::REAL],
            ["fat", FieldType::REAL],
            ["carbonation", FieldType::REAL],
            ["protein", FieldType::REAL],
            ["na", FieldType::REAL],
            ["cellulose", FieldType::REAL],
            ["type", FieldType::TEXT],
        ],
        "recipes" => [
            ["user_id", FieldType::INTEGER, true, "users"],
            ["title", FieldType::TEXT, true],
            ["description", FieldType::TEXT],
            ["type", FieldType::TEXT],
        ],
        "weigths" => [
            ["user_id", FieldType::INTEGER, true, "users"],
            ["weigth", FieldType::INTEGER, true],
            ["date_of_update", FieldType::TEXT, true],
        ],
        "workouts" => [
            ["title", FieldType::TEXT, true],
            ["description", FieldType::TEXT],
            ["kcal", FieldType::TEXT],
        ],
        "workouts_user" => [
            ["user_id", FieldType::INTEGER, true, "users"],
            ["workout_id", FieldType::INTEGER, true, "workouts"],
            ["start_time", FieldType::TEXT, true],
            ["end_time", FieldType::TEXT, true],
            ["date", FieldType::DATE, true],
        ],
        "diets" => [
            ["name", FieldType::TEXT, true],
            ["description", FieldType::TEXT],
        ],
        "allergies" => [
            ["name", FieldType::TEXT, true],
        ],
        "meals" => [
            ["user_id", FieldType::INTEGER, true, "users"],
            ["recipe_id", FieldType::INTEGER, false, "recipes"],
            ["product_id", FieldType::INTEGER, false, "products"],
            ["date", FieldType::TEXT, true],
            ["time", FieldType::TEXT, true],
            ["weigth", FieldType::INTEGER],
        ],
        "users_diets" => [
            ["user_id", FieldType::INTEGER, true, "users"],
            ["diet_id", FieldType::INTEGER, true, "diets", "diets"],
        ],
        "users_allergies" => [
            ["user_id", FieldType::INTEGER, true, "users"],
            ["allergy_id", FieldType::INTEGER, true, "allergies"],
        ],
        "recipe_in_diets" => [
            ["diet_id", FieldType::INTEGER, true, "diets"],
            ["recipe_id", FieldType::INTEGER, true, "recipes"],
        ],
        "products_in_recipes" => [
            ["user_id", FieldType::INTEGER, true, "users"],
            ["recipe_id", FieldType::INTEGER, true, "recipes"],
            ["product_id", FieldType::INTEGER, true, "products"],
            ["weight", FieldType::REAL, true],
        ],
        "product_in_diets" => [
            ["diet_id", FieldType::INTEGER, true, "diets"],
            ["product_id", FieldType::INTEGER, true, "products"],
        ],
        "allergies_on_products" => [
            ["product_id", FieldType::INTEGER, true, "products"],
            ["allergy_id", FieldType::INTEGER, true, "allergies"],
        ],
        "liked_products" => [
            ["user_id", FieldType::INTEGER, true, "users"],
            ["product_id", FieldType::INTEGER, true, "products"],
        ],
        "liked_recipes" => [
            ["user_id", FieldType::INTEGER, true, "users"],
            ["recipe_id", FieldType::INTEGER, true, "recipes"],
        ]
    ];
    private static $insert_data = [
        [
            'table' => 'diets',
            'query' => "INSERT INTO diets (name) VALUES ('Набір ваги'), ('Скинення ваги'), ('Схований діабет'), ('Гастрит'), ('Виразка')",
        ],
        [
            'table' => 'allergies',
            'query' => "INSERT INTO allergies (name) VALUES ('Риба'), ('Горіхи'), ('Молочні продукти'), ('Соя'), ('Яйця'),('Арахіс'),('Глютен')",
        ],
        [
            'table' => 'products',
            'query' => "INSERT INTO products (title,kcal,fat,carbonation,protein,na,cellulose,type) VALUES 
            ('Картопля',77,2.0,0.1,17.5,2.2,6,'ingredient'),
            ('Морква',41,0.9,0.2,9.6,2.8,69,'ingredient'),
            ('Цибуля',40,1.1,0.1,9.3,1.7,4,'ingredient'),
            ('Помідори',18,0.9,0.2,3.9,1.2,5,'ingredient'),
            ('Огірки',16,0.7,0.1,3.6,0.5,2,'ingredient'),
            ('Буряк',43,1.6,0.2,9.6,2.8,78,'ingredient'),
            ('Капуста білокачанна',25,1.3,0.1,5.8,2.5,18,'ingredient'),
            ('Кабачки',17,1.2,0.3,3.1,1.0,8,'ingredient'),
            ('Гарбуз',26,1.0,0.1,6.5,0.5,1,'ingredient'),
            ('Часник',149,6.4,0.5,33.1,2.1,17,'ingredient'),
            ('Яблука',52,0.3,0.2,13.8,2.4,1,'product'),
            ('Вишні',50,1.0,0.3,12.2,1.6,3,'product'),
            ('Родзинки',299,3.1,0.5,79.2,3.7,11,'ingredient'),
            ('Яйце куряче (1 шт ~50 г)',143,12.6,9.5,0.7,0.0,142,'ingredient'),
            ('Молоко 2,5%',50,3.3,2.5,4.8,0.0,44,'product'),
            ('Сметана 15%',158,2.8,15.0,3.0,0.0,38,'ingredient'),
            ('Сир кисломолочний 5%',121,16.0,5.0,3.0,0.0,40,'product'),
            ('Твердий сир (середній)',402,25.0,33.0,1.3,0.0,621,'product'),
            ('Масло вершкове 82%',717,0.9,81.0,0.1,0.0,11,'ingredient'),
            ('Олія соняшникова',884,0.0,100.0,0.0,0.0,0,'ingredient'),
            ('Борошно пшеничне',364,10.3,1.0,76.3,2.7,2,'ingredient'),
            ('Манка',360,10.3,1.0,73.3,3.9,1,'ingredient'),
            ('Рис білий',365,7.1,0.7,79.0,1.3,5,'ingredient'),
            ('Гречка',343,13.3,3.4,71.5,10.0,1,'ingredient'),
            ('Пшоно',378,11.0,4.2,72.8,8.5,5,'ingredient'),
            ('Макарони',371,13.0,1.5,75.0,3.2,6,'ingredient'),
            ('Куряче філе',165,31.0,3.6,0.0,0.0,74,'ingredient'),
            ('Свинина (середня)',242,27.0,14.0,0.0,0.0,62,'ingredient'),
            ('Яловичина',250,26.0,15.0,0.0,0.0,72,'ingredient'),
            ('Печінка куряча',119,17.0,5.0,1.0,0.0,71,'ingredient'),
            ('Гриби печериці',22,3.1,0.3,3.3,1.0,5,'ingredient'),
            ('Цукор білий',387,0.0,0.0,100.0,0.0,1,'ingredient'),
            ('Мед',304,0.3,0.0,82.4,0.2,4,'ingredient'),
            ('Сіль кухонна',0,0.0,0.0,0.0,0.0,38758,'ingredient'),
            ('Сода харчова',0,0.0,0.0,0.0,0.0,27360,'ingredient'),
            ('Дріжджі сухі',325,40.4,7.6,41.2,26.9,30,'ingredient'),
            ('Кефір 2,5%',51,3.0,2.5,4.0,0.0,40,'product'),
            ('Йогурт натуральний',59,10.0,0.4,3.6,0.0,36,'product'),
            ('Лимон',29,1.1,0.3,9.3,2.8,2,'ingredient'),
            ('Імбир свіжий',80,1.8,0.8,17.8,2.0,13,'ingredient'),
            ('Малина',52,1.2,0.7,11.9,6.5,1,'product'),
            ('Чорниця',57,0.7,0.3,14.5,2.4,1,'product'),
            ('Обліпиха',82,1.2,5.3,5.0,2.0,3,'product'),
            ('Банан',89,1.1,0.3,22.8,2.6,1,'product'),
            ('Апельсин',47,0.9,0.1,11.8,2.4,0,'product'),
            ('Чай чорний (заварка)',1,0.1,0.0,0.2,0.0,3,'ingredient'),
            ('Какао-порошок',228,19.6,13.7,57.9,37.0,21,'ingredient'),
            ('Вода питна',0,0.0,0.0,0.0,0.0,0,'product'),
            ('Хліб білий',265,9.0,3.2,49.0,2.7,491,'product'),
            ('Хліб житній',259,8.5,3.3,48.3,5.8,660,'product')",
        ],
        [
            'table' => 'product_in_diets',
            'query' => 'INSERT INTO product_in_diets(product_id,diet_id) VALUES 
            -- Набір ваги (1)
            (1,1), -- Картопля
            (13,1), -- Родзинки
            (14,1), -- Яйце куряче
            (15,1), -- Молоко 2,5%
            (16,1), -- Сметана 15%
            (17,1), -- Сир кисломолочний 5%
            (18,1), -- Твердий сир
            (19,1), -- Масло вершкове 82%
            (20,1), -- Олія соняшникова
            (21,1), -- Борошно пшеничне
            (22,1), -- Манка
            (23,1), -- Рис білий
            (24,1), -- Гречка
            (25,1), -- Пшоно
            (26,1), -- Макарони
            (27,1), -- Куряче філе
            (28,1), -- Свинина
            (29,1), -- Яловичина
            (30,1), -- Печінка куряча
            (32,1), -- Цукор білий
            (33,1), -- Мед
            (48,1), -- Хліб білий
            (49,1), -- Хліб житній
    
            -- Скинення ваги (2)
            (2,2), -- Морква
            (3,2), -- Цибуля
            (4,2), -- Помідори
            (5,2), -- Огірки
            (6,2), -- Буряк
            (7,2), -- Капуста білокачанна
            (8,2), -- Кабачки
            (9,2), -- Гарбуз
            (10,2), -- Часник
            (11,2), -- Яблука
            (12,2), -- Вишні
            (27,2), -- Куряче філе
            (31,2), -- Гриби печериці
            (37,2), -- Кефір 2,5%
            (38,2), -- Йогурт натуральний
            (39,2), -- Лимон
            (40,2), -- Імбир свіжий
            (41,2), -- Малина
            (42,2), -- Чорниця
            (43,2), -- Обліпиха
            (44,2), -- Банан
            (45,2), -- Апельсин
            (46,2), -- Чай чорний
            (47,2), -- Вода питна
    
            -- Схований діабет (3) - мінімум цукру та простих вуглеводів
            (1,3), -- Картопля (обмежено)
            (2,3), -- Морква
            (3,3), -- Цибуля
            (4,3), -- Помідори
            (5,3), -- Огірки
            (6,3), -- Буряк (обмежено)
            (7,3), -- Капуста білокачанна
            (8,3), -- Кабачки
            (9,3), -- Гарбуз
            (10,3), -- Часник
            (11,3), -- Яблука (кислі сорти)
            (14,3), -- Яйце куряче
            (15,3), -- Молоко 2,5% (обмежено)
            (17,3), -- Сир кисломолочний 5%
            (23,3), -- Рис білий (обмежено)
            (24,3), -- Гречка
            (25,3), -- Пшоно
            (27,3), -- Куряче філе
            (29,3), -- Яловичина
            (31,3), -- Гриби печериці
            (37,3), -- Кефір 2,5%
            (38,3), -- Йогурт натуральний
            (39,3), -- Лимон
            (40,3), -- Імбир свіжий
            (46,3), -- Чай чорний
            (47,3), -- Вода питна
            (49,3), -- Хліб житній (обмежено)
    
            -- Гастрит (4) - щадна дієта, уникати кислого, гострого
            (1,4), -- Картопля
            (2,4), -- Морква
            (3,4), -- Цибуля (відварена/тушкована)
            (4,4), -- Помідори (без шкірки)
            (7,4), -- Капуста білокачанна (відварена/тушкована)
            (8,4), -- Кабачки
            (9,4), -- Гарбуз
            (14,4), -- Яйце куряче
            (15,4), -- Молоко 2,5%
            (17,4), -- Сир кисломолочний 5%
            (19,4), -- Масло вершкове 82%
            (23,4), -- Рис білий
            (24,4), -- Гречка
            (27,4), -- Куряче філе
            (37,4), -- Кефір 2,5%
            (38,4), -- Йогурт натуральний
            (47,4), -- Вода питна
            (48,4), -- Хліб білий (вчорашній)
    
            -- Виразка (5) - дуже щадна дієта, виключення подразників
            (1,5), -- Картопля
            (2,5), -- Морква
            (8,5), -- Кабачки
            (9,5), -- Гарбуз
            (14,5), -- Яйце куряче (некруто)
            (15,5), -- Молоко 2,5%
            (17,5), -- Сир кисломолочний 5%
            (19,5), -- Масло вершкове 82%
            (23,5), -- Рис білий
            (27,5), -- Куряче філе (відварене, пароване)
            (37,5), -- Кефір 2,5%
            (47,5) -- Вода питна;
            ;',
        ],
        [
            'table' => 'recipes',
            'query' => 'INSERT INTO recipes (title,type,description) VALUES 
            ("Картопляне пюре","garnir","Ніжне пюре з вареної картоплі з вершковим маслом."),
            ("Борщ український","soup","Традиційний буряковий soup з капустою, картоплею та м’ясом."),
            ("Курка запечена з травами","meat","Куряче стегно, запечене з часником, розмарином і оливковою олією."),
            ("Овочевий salad","salad","salad з огірків, помідорів, цибулі та зелені зі сметаною."),
            ("Сирники","dessert","Смажені сирні коржики з родзинками та цукром."),
            ("Каша гречана","garnir","Відварена гречка з вершковим маслом."),
            ("Панкейки","bakery","Пухкі оладки на молоці з цукром."),
            ("Узвар з сухофруктів","drink","Компот зі суміші сушених яблук, груш та родзинок."),
            ("Яєчня з помідорами","maindish","Смажені яйця з нарізаними помідорами та зеленню."),
            ("Вареники з картоплею","maindish","Тісто з начинкою з картопляного пюре, відварені у підсоленій воді."),
            ("soup з куркою та локшиною","soup","Легкий бульйон з куркою, морквою, картоплею та домашньою локшиною."),
            ("Овочеве рагу","maindish","Тушковані овочі (картопля, морква, цибуля, капуста, кабачки)."),
            ("Печена картопля","garnir","Запечені у духовці шматочки картоплі з прянощами."),
            ("Лимонад домашній","drink","Охолоджений drink з лимону, м’яти, цукру і води."),
            ("Печиво вівсяне","bakery","Печиво з вівсяних пластівців, цукру, масла і яєць."),
            ("Грінки з часником","other","Обсмажені на сковорідці шматочки хліба з часником."),
            ("Олів’є","salad","salad з картоплі, моркви, ковбаси, яєць, огірків та майонезу."),
            ("Чай з м’ятою","drink","Гарячий чай із свіжої або сушеної м’яти."),
            ("Манна каша","garnir","Манка, зварена на молоці або воді, з вершковим маслом."),
            ("Печена риба","maindish","Запечена риба з лимоном та зеленню."),
            ("Компот з ягід","drink","drink з сезонних ягід та цукру."),
            ("Пиріжки з яблуками","bakery","Печені пиріжки з начинкою зі свіжих яблук."),
            ("salad з буряка та часнику","salad","Відварений буряк, натертий з часником та олією."),
            ("Яєчня з шинкою","maindish","Смажені яйця з шматочками шинки."),
            ("Млинці","bakery","Тонкі млинці на молоці."),
            ("Пшоняна каша","garnir","Варена пшоняна каша на воді або молоці."),
            ("Зелений борщ","soup","soup із щавлем, яйцем та картоплею."),
            ("Кабачкові оладки","bakery","Оладки з натертого кабачка, яйця та борошна."),
            ("Курячі котлети","meat","Смажені котлети з фаршу курячого м’яса з цибулею."),
            ("Паста з овочами","maindish","Відварені макарони з обсмаженими овочами."),
            ("Часниковий соус","other","Соус зі сметани, майонезу, часнику та зелені."),
            ("Картопля по-селянськи","garnir","Запечена картопля з шкіркою та спеціями."),
            ("Морквяний salad","salad","Натерта морква з часником і олією."),
            ("Омлет з зеленню","maindish","Яйця, збиті з молоком та свіжою зеленню, смажені на сковороді."),
            ("Чорничний кисіль","drink","dessertний drink із чорниці, цукру та крохмалю."),
            ("Печені яблука","dessert","Запечені в духовці яблука з медом та горіхами."),
            ("soup-пюре з гарбуза","soup","Ніжний soup із запеченого гарбуза та вершків."),
            ("Яблучний пиріг","bakery","Пиріг із солодким тістом та яблучною начинкою."),
            ("salad з капусти","salad","Нарізана капуста з оцтом, олією та цукром."),
            ("Гречка з грибами","maindish","Тушкована гречка з смаженими грибами."),
            ("Картопля фрі","other","Обсмажені в олії скибочки картоплі."),
            ("Домашній йогурт","dessert","Кисломолочний продукт з молока та закваски."),
            ("Лимонний пиріг","bakery","Пісочний пиріг із лимонною начинкою."),
            ("Томатний сік","drink","Свіжий сік із помідорів з сіллю."),
            ("Тефтелі в томатному соусі","meat","Курячі або свинячі тефтелі в соусі з помідорів."),
            ("Картопля з укропом","garnir","Варена картопля, притрушена свіжим кропом."),
            ("salad з редиски","salad","Редиска з зеленою цибулею та сметаною."),
            ("Холодник","soup","Холодний буряковий soup з кефіром та яйцем."),
            ("Літній salad з огірків і помідорів","salad","Свіжий salad з огірків, помідорів та зеленої цибулі."),
            ("Вареники з вишнями","dessert","Тісто з соковитою начинкою зі свіжих або заморожених вишень."),
            ("Чай з імбиром та лимоном","drink","Гарячий чай зі свіжим імбиром, лимоном і медом."),
            ("Плов з куркою","maindish","Рис із шматочками курки, морквою та спеціями."),
            ("Картопляники","bakery","Смажені деруни з картопляного тіста."),
            ("Оладки з яблуками","bakery","Пухкі оладки з тертим яблуком."),
            ("Гарбузова каша","garnir","Каша з гарбуза та пшона на молоці або воді."),
            ("Домашній квас","drink","Солодкувато-кислий drink з житнього хліба."),
            ("М’ясо тушковане з овочами","meat","Тушковані шматочки м’яса з морквою, цибулею та картоплею."),
            ("Літній холодний борщ","soup","Освіжаючий буряковий soup з кефіром, яйцем та зеленню."),
            ("Гречані котлети","maindish","Котлети з вареної гречки та смаженої цибулі."),
            ("Чай з малиною","drink","Літній drink із малини, меду і м’яти."),
            ("Рисова каша з молоком","garnir","Класична каша з рису на молоці з вершковим маслом."),
            ("Запіканка сирна","dessert","Запечена страва з домашнього сиру, яєць і цукру."),
            ("Фарширований перець","maindish","Перець, фарширований рисом та м’ясом, тушкований у соусі."),
            ("Чай з обліпихою","drink","Вітамінний drink зі свіжої або замороженої обліпихи."),
            ("Морквяний soup-пюре","soup","Ніжний кремовий soup із моркви та вершків."),
            ("Омлет з помідорами","maindish","Яєчний омлет із нарізаними помідорами."),
            ("Сирна запіканка з родзинками","dessert","Запіканка з домашнього сиру з додаванням родзинок."),
            ("Пиріжки з повидлом","bakery","М’які пиріжки з солодкою фруктовою начинкою."),
            ("Пшоняна запіканка","garnir","Запіканка з пшоняної каші з додаванням молока."),
            ("Чорничний морс","drink","Охолоджений drink із чорниці та цукру."),
            ("Курячі нагетси","meat","Обсмажені шматочки курячого філе у паніруванні."),
            ("Картопля тушкована з грибами","maindish","Тушкована картопля з обсмаженими грибами."),
            ("Лимонно-медовий drink","drink","Освіжаючий drink із лимону, меду та м’яти."),
            ("Сирна паста","maindish","Макарони у вершково-сирному соусі."),
            ("soup з сочевиці","soup","Легкий soup із червоної сочевиці та моркви."),
            ("Картопля по-домашньому","garnir","Смажена картопля з цибулею та зеленню."),
            ("Гречка з підливою","garnir","Варена гречка з м’ясною підливою."),
            ("Зелений чай з жасмином","drink","Ароматний зелений чай із жасмином."),
            ("Млинці з сиром","bakery","Тонкі млинці з начинкою з домашнього сиру."),
            ("Морквяно-яблучний salad","salad","Натерті морква та яблуко з медом."),
            ("Курка в медово-гірчичному соусі","meat","Запечена курка в ароматному соусі з медом і гірчицею."),
            ("Томатний soup","soup","Легкий soup із стиглих помідорів та базиліку."),
            ("Деруни з соусом зі сметани","bakery","Смажені картопляні деруни зі сметанним соусом."),
            ("Яблучне пюре","dessert","Пюре зі свіжих яблук із цукром."),
            ("Холодний огірковий soup","soup","Освіжаючий soup на кефірі з огірками та зеленню."),
            ("Картопляні зрази","bakery","Смажені картопляні котлетки з начинкою."),
            ("Узвар з грушами","drink","Традиційний drink із сушених груш."),
            ("Бурякова ікра","other","Пюреподібна закуска з буряка, часнику та олії."),
            ("Сирники з родзинками","dessert","Смажені сирні коржики з родзинками."),
            ("Гречка з печінкою","maindish","Варена гречка з тушкованою печінкою та цибулею."),
            ("salad з куркою та грибами","salad","salad із вареної курки, обсмажених грибів, яєць та майонезу."),
            ("Яблучно-грушевий компот","drink","Компот зі свіжих яблук та груш."),
            ("Пшенична каша","garnir","Варена пшенична каша на воді або молоці."),
            ("Кабачки тушковані з овочами","maindish","Тушковані кабачки, морква, цибуля, помідори."),
            ("Лимонад з м’ятою","drink","Літній drink з лимону, цукру та м’яти.");',
        ],
        [
            'table' => 'recipe_in_diets',
            'query' => 'INSERT INTO recipe_in_diets(recipe_id,diet_id) VALUES 
            (1,1),
            (2,1),
            (3,1),
            (5,1), 
            (6,1), 
            (7,1), 
            (10,1), 
            (11,1), 
            (12,1), 
            (15,1), 
            (17,1),
            (19,1), 
            (24,1), 
            (25,1), 
            (26,1), 
            (29,1), 
            (30,1),
            (40,1), 
            (41,1), 
            (43,1),
            (45,1), 
            (53,1), 
            (54,1), 
            (55,1), 
            (56,1), 
            (58,1), 
            (60,1),
            (62,1), 
            (63,1), 
            (64,1),
            (68,1), 
            (69,1),
            (70,1), 
            (72,1),
            (73,1), 
            (75,1), 
            (77,1), 
            (78,1), 
            (80,1),
            (82,1), 
            (84,1), 
            (87,1),
            (89,1),
            (90,1),
            (91,1), 
            (92,1),
            (94,1),
            (95,1), 
    
            
            (4,2),
            (6,2),
            (12,2),
            (13,2), 
            (20,2),
            (23,2),
            (26,2),
            (27,2),
            (28,2),
            (29,2), 
            (30,2),
            (32,2),
            (33,2), 
            (34,2),
            (36,2), 
            (37,2),
            (39,2), 
            (40,2), 
            (42,2), 
            (44,2), 
            (46,2), 
            (47,2), 
            (48,2), 
            (49,2), 
            (50,2),
            (51,2), 
            (52,2), 
            (56,2),
            (59,2),
            (61,2), 
            (62,2), 
            (65,2), 
            (66,2), 
            (67,2),
            (71,2),
            (74,2), 
            (76,2), 
            (79,2),
            (81,2), 
            (83,2), 
            (85,2),
            (86,2), 
            (88,2), 
            (93,2), 
    
            (4,3),
            (6,3),
            (12,3), 
            (13,3), 
            (20,3),
            (23,3),
            (26,3),
            (27,3), 
            (28,3), 
            (29,3), 
            (30,3), 
            (33,3), 
            (34,3),
            (36,3), 
            (37,3), 
            (39,3), 
            (40,3), 
            (42,3), 
            (44,3), 
            (46,3),
            (47,3), 
            (48,3),
            (49,3),
            (51,3), 
            (52,3), 
            (56,3), 
            (59,3),
            (60,3),
            (62,3), 
            (63,3), 
            (64,3), 
            (65,3), 
            (66,3), 
            (67,3),
            (71,3), 
            (72,3), 
            (73,3),
            (74,3), 
            (76,3),  
            (77,3), 
            (78,3),
            (79,3), 
            (81,3), 
            (83,3), 
            (85,3),
            (86,3),  
            (88,3), 
            (89,3), 
            (90,3),  
            (91,3),
            (93,3),  
            (94,3),
    
            (1,4), 
            (2,4), 
            (3,4), 
            (6,4), 
            (11,4), 
            (12,4), 
            (13,4),   
            (19,4),                      
            (20,4),         
            (25,4),      
            (26,4),
            (29,4),
            (34,4),
            (37,4),
            (42,4),
            (46,4),      
            (56,4),
            (62,4), 
            (63,4), 
            (64,4), 
            (66,4), 
            (67,4),
            (68,4),
            (70,4),
            (75,4), 
            (76,4),
            (80,4), 
            (85,4), 
            (94,4),
            (95,4),
    
            (1,5),
            (6,5),
            (11,5),
            (12,5),                 
            (19,5),     
            (20,5),                 
            (26,5),                
            (29,5),                   
            (34,5),      
            (37,5),      
            (42,5),                   
            (46,5),                           
            (56,5),           
            (62,5),                         
            (63,5),            
            (66,5),                       
            (67,5),           
            (68,5),                         
            (70,5),              
            (75,5),                    
            (85,5),                
            (94,5),                 
            (95,5)  ;                      
            ',
        ],
        [
            'table' => 'allergies_on_products',
            'query' => 'INSERT INTO allergies_on_products(product_id,allergy_id) VALUES 
        (15,3), -- Молоко 2,5%
        (16,3), -- Сметана 15%
        (17,3), -- Сир кисломолочний 5%
        (18,3), -- Твердий сир (середній)
        (19,3), -- Масло вершкове 82%
        (37,3), -- Кефір 2,5%
        (38,3), -- Йогурт натуральний

        (14,5), -- Яйце куряче
        (21,7), -- Борошно пшеничне
        (22,7), -- Манка
        (26,7), -- Макарони
        (48,7), -- Хліб білий
        (49,7);',
        ],
        [
            'table' => 'products_in_recipes',
            'query' => 'INSERT INTO products_in_recipes (recipe_id,product_id,weight) VALUES 
            -- Картопляне пюре (1)
            (1,1,300), -- Картопля
            (15,1,100), -- Молоко 2,5%
            (19,1,30), -- Масло вершкове 82%
            (34,1,3), -- Сіль кухонна
            (47,1,50), -- Вода питна
    
            -- Борщ український (2) - спрощений варіант
            (2,1,150), -- Картопля
            (2,2,80), -- Морква
            (2,3,50), -- Цибуля
            (2,7,150), -- Капуста білокачанна
            (2,6,100), -- Буряк
            (2,29,150), -- Яловичина (або 27 Куряче філе, або 28 Свинина)
            (2,4,50), -- Помідори (або томатна паста)
            (2,20,15), -- Олія соняшникова
            (2,34,5), -- Сіль кухонна
            (2,47,500), -- Вода питна
            (2,16,20), -- Сметана 15% (для подачі)
    
            -- Курка запечена з травами (3)
            (3,27,200), -- Куряче філе
            (3,10,5), -- Часник
            (3,20,15), -- Олія соняшникова
            (3,34,3), -- Сіль кухонна
    
            -- Овочевий salad (4)
            (4,5,100), -- Огірки
            (4,4,100), -- Помідори
            (4,3,30), -- Цибуля
            (4,16,50), -- Сметана 15%
            (4,34,2), -- Сіль кухонна
    
            -- Сирники (5)
            (5,17,200), -- Сир кисломолочний 5%
            (5,14,50), -- Яйце куряче
            (5,21,30), -- Борошно пшеничне
            (5,32,20), -- Цукор білий
            (5,13,20), -- Родзинки
            (5,20,15), -- Олія соняшникова (для смаження)
    
            -- Каша гречана (6)
            (6,24,100), -- Гречка
            (6,47,200), -- Вода питна
            (6,34,2), -- Сіль кухонна
            (6,19,10), -- Масло вершкове 82%
    
            -- Панкейки (7)
            (7,21,150), -- Борошно пшеничне
            (7,15,200), -- Молоко 2,5%
            (7,14,50), -- Яйце куряче
            (7,32,20), -- Цукор білий
            (7,35,5), -- Сода харчова
            (7,20,10), -- Олія соняшникова
    
            -- Узвар з сухофруктів (8)
            (8,11,50), -- Яблука (сушені)
            (8,32,30), -- Цукор білий
            (8,47,500), -- Вода питна
            (8,13,20), -- Родзинки
    
            -- Яєчня з помідорами (9)
            (9,14,100), -- Яйце куряче (2 шт)
            (9,4,100), -- Помідори
            (9,20,10), -- Олія соняшникова
            (9,34,2), -- Сіль кухонна
    
            -- Вареники з картоплею (10)
            (10,21,200), -- Борошно пшеничне
            (10,47,100), -- Вода питна
            (10,1,300), -- Картопля
            (10,3,50), -- Цибуля
            (10,19,20), -- Масло вершкове 82%
            (10,34,5), -- Сіль кухонна
    
            -- soup з куркою та локшиною (11)
            (11,27,150), -- Куряче філе
            (11,1,100), -- Картопля
            (11,2,50), -- Морква
            (11,3,30), -- Цибуля
            (11,26,50), -- Макарони (локшина)
            (11,34,3), -- Сіль кухонна
            (11,47,500), -- Вода питна
    
            -- Овочеве рагу (12)
            (12,1,150), -- Картопля
            (12,2,80), -- Морква
            (12,3,50), -- Цибуля
            (12,7,100), -- Капуста білокачанна
            (12,8,100), -- Кабачки
            (12,4,50), -- Помідори
            (12,20,15), -- Олія соняшникова
            (12,34,3), -- Сіль кухонна
            (12,47,100), -- Вода питна
    
            -- Печена картопля (13)
            (13,1,300), -- Картопля
            (13,20,15), -- Олія соняшникова
            (13,10,5), -- Часник
            (13,34,3), -- Сіль кухонна
    
            -- Лимонад домашній (14)
            (14,39,100), -- Лимон (сік)
            (14,32,50), -- Цукор білий
            (14,47,500), -- Вода питна
    
            -- Печиво вівсяне (15) - овсянка не вказана, замінимо на борошно
            (15,21,150), -- Борошно пшеничне
            (15,19,100), -- Масло вершкове 82%
            (15,32,50), -- Цукор білий
            (15,14,50), -- Яйце куряче
    
            -- Грінки з часником (16)
            (16,48,100), -- Хліб білий
            (16,10,5), -- Часник
            (16,20,15), -- Олія соняшникова
            (16,34,2), -- Сіль кухонна
    
            -- Олів’є (17)
            (17,1,150), -- Картопля
            (17,2,80), -- Морква
            (17,14,100), -- Яйце куряче (2 шт)
            (17,5,80), -- Огірки (свіжі або мариновані)
            (17,3,30), -- Цибуля
            (17,16,50), -- Сметана 15% (або майонез)
            (17,34,3), -- Сіль кухонна
            -- Припустимо "ковбаса" відсутня в продуктах, не додаємо її.
    
            -- Чай з м’ятою (18)
            (18,46,5), -- Чай чорний (заварка)
            (18,47,200), -- Вода питна
            (18,32,10), -- Цукор білий (за бажанням)
    
            -- Манна каша (19)
            (19,22,50), -- Манка
            (19,15,200), -- Молоко 2,5%
            (19,47,100), -- Вода питна
            (19,32,10), -- Цукор білий
            (19,19,5), -- Масло вершкове 82%
            (19,34,1), -- Сіль кухонна
    
            -- Печена риба (20) - припустимо, є риба в продуктах
            -- Так як риби немає в продуктах, я не можу додати її. Додаю лимон і сіль.
            (20,39,20), -- Лимон
            (20,34,3), -- Сіль кухонна
            (21,41,100), -- Малина (або інші ягоди)
            (21,32,30), -- Цукор білий
            (21,47,500), -- Вода питна
            (22,21,200), -- Борошно пшеничне
            (22,15,100), -- Молоко 2,5%
            (22,36,5), -- Дріжджі сухі
            (22,32,30), -- Цукор білий
            (22,14,50), -- Яйце куряче
            (22,11,200), -- Яблука (начинка)
            (22,20,10) ,
            (23,6,150), -- Буряк
            (23,10,5), -- Часник
            (23,20,15), -- Олія соняшникова
            (23,34,2), -- Сіль кухонна
            (24,14,100), -- Яйце куряче (2 шт)
            (24,27,50), -- Куряче філе
            (24,20,10), -- Олія соняшникова
            (24,34,2), -- Сіль кухонна
            (25,21,150), -- Борошно пшеничне
            (25,15,250), -- Молоко 2,5%
            (25,14,50), -- Яйце куряче
            (25,32,15), -- Цукор білий
            (25,34,2), -- Сіль кухонна
            (25,20,10), -- Олія соняшникова
    
            -- Пшоняна каша (26)
            (26,25,100), -- Пшоно
            (26,47,200), -- Вода питна
            (26,34,2), -- Сіль кухонна
            (26,19,10), -- Масло вершкове 82%
    
            -- Зелений борщ (27) - щавель відсутній, замінимо на капусту
            (27,1,150), -- Картопля
            (27,3,50), -- Цибуля
            (27,14,50), -- Яйце куряче (для подачі)
            (27,7,100), -- Капуста білокачанна (як заміна щавлю)
            (27,34,3), -- Сіль кухонна
            (27,47,500), -- Вода питна
            (27,16,20), -- Сметана 15% (для подачі)
    
            -- Кабачкові оладки (28)
            (28,8,200), -- Кабачки
            (28,14,50), -- Яйце куряче
            (28,21,50), -- Борошно пшеничне
            (28,34,2), -- Сіль кухонна
            (28,20,15), -- Олія соняшникова
    
            -- Курячі котлети (29)
            (29,27,200), -- Куряче філе
            (29,3,30), -- Цибуля
            (29,21,10), -- Борошно пшеничне (для панірування)
            (29,14,50), -- Яйце куряче (для панірування)
            (29,34,3), -- Сіль кухонна
            (29,20,15), -- Олія соняшникова
    
            -- Паста з овочами (30)
            (30,26,150), -- Макарони
            (30,2,50), -- Морква
            (30,3,30), -- Цибуля
            (30,4,80), -- Помідори
            (30,8,80), -- Кабачки
            (30,20,15), -- Олія соняшникова
            (30,34,3), -- Сіль кухонна
    
            -- Часниковий соус (31) - майонезу немає, замінимо сметаною
            (31,16,100), -- Сметана 15%
            (31,10,10), -- Часник
            (31,34,2), -- Сіль кухонна
    
            -- Картопля по-селянськи (32)
            (32,1,300), -- Картопля
            (32,20,20), -- Олія соняшникова
            (32,10,5), -- Часник
            (32,34,3), -- Сіль кухонна
    
            -- Морквяний salad (33)
            (33,2,150), -- Морква
            (33,10,5), -- Часник
            (33,20,15), -- Олія соняшникова
            (33,34,2), -- Сіль кухонна
    
            -- Омлет з зеленню (34)
            (34,14,100), -- Яйце куряче (2 шт)
            (34,15,50), -- Молоко 2,5%
            (34,34,2), -- Сіль кухонна
    
            -- Чорничний кисіль (35)
            (35,42,100), -- Чорниця
            (35,32,50), -- Цукор білий
            (35,47,500), -- Вода питна
            (35,21,20), -- Борошно пшеничне (для крохмалю)
    
            -- Печені яблука (36)
            (36,11,150), -- Яблука
            (36,33,10), -- Мед
            -- Горіхів немає в продуктах
    
            -- soup-пюре з гарбуза (37)
            (37,9,200), -- Гарбуз
            (37,15,100), -- Молоко 2,5% (або вершки)
            (37,34,3), -- Сіль кухонна
            (37,47,100), -- Вода питна
    
            -- Яблучний пиріг (38)
            (38,21,200), -- Борошно пшеничне
            (38,19,100), -- Масло вершкове 82%
            (38,32,80), -- Цукор білий
            (38,14,50), -- Яйце куряче
            (38,11,300), -- Яблука
    
            -- salad з капусти (39)
            (39,7,200), -- Капуста білокачанна
            (39,20,15), -- Олія соняшникова
            (39,32,5), -- Цукор білий
            (39,34,3), -- Сіль кухонна
    
            -- Гречка з грибами (40)
            (40,24,100), -- Гречка
            (40,31,100), -- Гриби печериці
            (40,3,30), -- Цибуля
            (40,20,15), -- Олія соняшникова
            (40,34,3), -- Сіль кухонна
            (40,47,200), -- Вода питна
    
            -- Картопля фрі (41)
            (41,1,300), -- Картопля
            (41,20,100), -- Олія соняшникова (для фритюру)
            (41,34,5), -- Сіль кухонна
    
            -- Домашній йогурт (42)
            (42,15,500), -- Молоко 2,5%
            (42,38,50), -- Йогурт натуральний (як закваска)
    
            -- Лимонний пиріг (43)
            (43,21,200), -- Борошно пшеничне
            (43,19,100), -- Масло вершкове 82%
            (43,32,80), -- Цукор білий
            (43,14,50), -- Яйце куряче
            (43,39,50), -- Лимон (для начинки)
    
            -- Томатний сік (44)
            (44,4,300), -- Помідори
            (44,34,2), -- Сіль кухонна
    
            -- Тефтелі в томатному соусі (45) - фаршу немає, замінимо на куряче філе
            (45,27,200), -- Куряче філе
            (45,23,50), -- Рис білий
            (45,3,30), -- Цибуля
            (45,4,100), -- Помідори (для соусу)
            (45,20,10), -- Олія соняшникова
            (45,34,3), -- Сіль кухонна
            (45,47,100), -- Вода питна
    
            -- Картопля з укропом (46) - укропу немає в продуктах, просто відварена картопля
            (46,1,300), -- Картопля
            (46,34,3), -- Сіль кухонна
            (46,19,15), -- Масло вершкове 82%
    
            -- salad з редиски (47) - редиски та зеленої цибулі немає
            (47,5,100), -- Огірки (як заміна)
            (47,16,50), -- Сметана 15%
            (47,34,2), -- Сіль кухонна
    
            -- Холодник (48)
            (48,6,150), -- Буряк
            (48,14,50), -- Яйце куряче
            (48,37,200), -- Кефір 2,5%
            (48,5,50), -- Огірки
            (48,34,3), -- Сіль кухонна
            (48,47,100), -- Вода питна
    
            -- Літній salad з огірків і помідорів (49)
            (49,5,100), -- Огірки
            (49,4,100), -- Помідори
            (49,20,15), -- Олія соняшникова
            (49,34,2), -- Сіль кухонна
    
            -- Вареники з вишнями (50)
            (50,21,200), -- Борошно пшеничне
            (50,47,100), -- Вода питна
            (50,12,150), -- Вишні (начинка)
            (50,32,30), -- Цукор білий (для начинки)
            (50,34,2), -- Сіль кухонна
    
            -- Чай з імбиром та лимоном (51)
            (51,46,5), -- Чай чорний (заварка)
            (51,40,10), -- Імбир свіжий
            (51,39,20), -- Лимон
            (51,33,15), -- Мед
            (51,47,200), -- Вода питна
    
            -- Плов з куркою (52)
            (52,23,150), -- Рис білий
            (52,27,200), -- Куряче філе
            (52,2,80), -- Морква
            (52,3,50), -- Цибуля
            (52,20,30), -- Олія соняшникова
            (52,34,5), -- Сіль кухонна
            (52,47,250), -- Вода питна
    
            -- Картопляники (53)
            (53,1,300), -- Картопля
            (53,21,50), -- Борошно пшеничне
            (53,14,50), -- Яйце куряче
            (53,34,3), -- Сіль кухонна
            (53,20,20), -- Олія соняшникова
    
            -- Оладки з яблуками (54)
            (54,21,150), -- Борошно пшеничне
            (54,15,200), -- Молоко 2,5%
            (54,14,50), -- Яйце куряче
            (54,32,20), -- Цукор білий
            (54,11,100), -- Яблука (терті)
            (54,20,15), -- Олія соняшникова
    
            -- Гарбузова каша (55)
            (55,9,150), -- Гарбуз
            (55,25,80), -- Пшоно
            (55,15,200), -- Молоко 2,5%
            (55,47,100), -- Вода питна
            (55,32,15), -- Цукор білий
            (55,19,10), -- Масло вершкове 82%
    
            -- Домашній квас (56) - хліб житній
            (56,49,150), -- Хліб житній
            (56,32,50), -- Цукор білий
            (56,36,5), -- Дріжджі сухі
            (56,47,1000), -- Вода питна
    
            -- М’ясо тушковане з овочами (57) - яловичина
            (57,29,200), -- Яловичина
            (57,1,150), -- Картопля
            (57,2,80), -- Морква
            (57,3,50), -- Цибуля
            (57,47,150), -- Вода питна
            (57,20,15), -- Олія соняшникова
            (57,34,3), -- Сіль кухонна
    
            -- Літній холодний борщ (58)
            (58,6,150), -- Буряк
            (58,14,50), -- Яйце куряче
            (58,37,200), -- Кефір 2,5%
            (58,5,50), -- Огірки
            (58,34,3), -- Сіль кухонна
            (58,47,100), -- Вода питна
    
            -- Гречані котлети (59)
            (59,24,150), -- Гречка
            (59,3,50), -- Цибуля
            (59,14,50), -- Яйце куряче
            (59,21,20), -- Борошно пшеничне
            (59,34,3), -- Сіль кухонна
            (59,20,15), -- Олія соняшникова
    
            -- Чай з малиною (60)
            (60,46,5), -- Чай чорний (заварка)
            (60,41,50), -- Малина
            (60,33,15), -- Мед
            (60,47,200), -- Вода питна
    
            -- Рисова каша з молоком (61)
            (61,23,100), -- Рис білий
            (61,15,200), -- Молоко 2,5%
            (61,47,100), -- Вода питна
            (61,32,15), -- Цукор білий
            (61,19,10), -- Масло вершкове 82%
            (61,34,1), -- Сіль кухонна
    
            -- Запіканка сирна (62)
            (62,17,250), -- Сир кисломолочний 5%
            (62,14,100), -- Яйце куряче (2 шт)
            (62,32,50), -- Цукор білий
            (62,21,30), -- Борошно пшеничне (або манка)
    
            -- Фарширований перець (63) - немає перцю в продуктах
            (63,27,150), -- Куряче філе (як фарш)
            (63,23,50), -- Рис білий
            (63,3,30), -- Цибуля
            (63,4,100), -- Помідори (для соусу)
            (63,34,3), -- Сіль кухонна
            (63,47,100), -- Вода питна
    
            -- Чай з обліпихою (64)
            (64,46,5), -- Чай чорний (заварка)
            (64,43,50), -- Обліпиха
            (64,33,15), -- Мед
            (64,47,200), -- Вода питна
    
            -- Морквяний soup-пюре (65)
            (65,2,200), -- Морква
            (65,3,30), -- Цибуля
            (65,15,100), -- Молоко 2,5% (або вершки)
            (65,34,3), -- Сіль кухонна
            (65,47,150), -- Вода питна
    
            -- Омлет з помідорами (66)
            (66,14,100), -- Яйце куряче (2 шт)
            (66,4,100), -- Помідори
            (66,15,50), -- Молоко 2,5%
            (66,34,2), -- Сіль кухонна
            (66,20,10), -- Олія соняшникова
    
            -- Сирна запіканка з родзинками (67)
            (67,17,250), -- Сир кисломолочний 5%
            (67,14,100), -- Яйце куряче (2 шт)
            (67,32,50), -- Цукор білий
            (67,13,30), -- Родзинки
            (67,21,30), -- Борошно пшеничне (або манка)
    
            -- Пиріжки з повидлом (68)
            (68,21,200), -- Борошно пшеничне
            (68,15,100), -- Молоко 2,5%
            (68,36,5), -- Дріжджі сухі
            (68,32,30), -- Цукор білий
            (68,14,50), -- Яйце куряче
            -- Припустимо "повидло" - це цукор та яблука
            (68,11,100), -- Яблука (начинка)
            (68,32,30), -- Цукор білий (начинка)
            (68,20,10), -- Олія соняшникова
    
            -- Пшоняна запіканка (69)
            (69,25,150), -- Пшоно
            (69,15,200), -- Молоко 2,5%
            (69,14,50), -- Яйце куряче
            (69,32,20), -- Цукор білий
            (69,19,15), -- Масло вершкове 82%
    
            -- Чорничний морс (70)
            (70,42,100), -- Чорниця
            (70,32,50), -- Цукор білий
            (70,47,500), -- Вода питна
    
            -- Курячі нагетси (71)
            (71,27,200), -- Куряче філе
            (71,21,30), -- Борошно пшеничне (для панірування)
            (71,14,50), -- Яйце куряче (для панірування)
            (71,34,3), -- Сіль кухонна
            (71,20,50), -- Олія соняшникова (для смаження)
    
            -- Картопля тушкована з грибами (72)
            (72,1,250), -- Картопля
            (72,31,100), -- Гриби печериці
            (72,3,50), -- Цибуля
            (72,20,15), -- Олія соняшникова
            (72,34,3), -- Сіль кухонна
            (72,47,100), -- Вода питна
    
            -- Лимонно-медовий drink (73)
            (73,39,50), -- Лимон
            (73,33,20), -- Мед
            (73,47,300), -- Вода питна
    
            -- Сирна паста (74)
            (74,26,150), -- Макарони
            (74,18,50), -- Твердий сир
            (74,15,50), -- Молоко 2,5% (або вершки)
            (74,19,10), -- Масло вершкове 82%
            (74,34,3), -- Сіль кухонна
    
            -- soup з сочевиці (75) - сочевиці немає в продуктах
            -- Замінимо на гречку, як бобову культуру для супу
            (75,24,50), -- Гречка
            (75,2,50), -- Морква
            (75,3,30), -- Цибуля
            (75,47,400), -- Вода питна
            (75,34,3), -- Сіль кухонна
            (75,20,10), -- Олія соняшникова
    
            -- Картопля по-домашньому (76)
            (76,1,300), -- Картопля
            (76,3,50), -- Цибуля
            (76,20,20), -- Олія соняшникова
            (76,34,3), -- Сіль кухонна
    
            -- Гречка з підливою (77) - підливи немає, додамо курку і цибулю
            (77,24,150), -- Гречка
            (77,27,100), -- Куряче філе
            (77,3,30), -- Цибуля
            (77,20,10), -- Олія соняшникова
            (77,34,3), -- Сіль кухонна
            (77,47,100), -- Вода питна
    
            -- Зелений чай з жасмином (78) - жасмину немає
            (78,46,5), -- Чай чорний (як зелений чай)
            (78,47,200), -- Вода питна
    
            -- Млинці з сиром (79)
            (79,25,150), -- Борошно пшеничне (для млинців)
            (79,15,250), -- Молоко 2,5% (для млинців)
            (79,14,50), -- Яйце куряче (для млинців)
            (79,32,15), -- Цукор білий (для млинців)
            (79,34,2), -- Сіль кухонна (для млинців)
            (79,17,150), -- Сир кисломолочний 5% (начинка)
            (79,32,20), -- Цукор білий (для начинки)
    
            -- Морквяно-яблучний salad (80)
            (80,2,100), -- Морква
            (80,11,100), -- Яблука
            (80,33,15), -- Мед
    
            -- Курка в медово-гірчичному соусі (81) - гірчиці немає, замінимо часником
            (81,27,200), -- Куряче філе
            (81,33,20), -- Мед
            (81,10,10), -- Часник
            (81,20,15), -- Олія соняшникова
            (81,34,3), -- Сіль кухонна
    
            -- Томатний soup (82)
            (82,4,200), -- Помідори
            (82,3,30), -- Цибуля
            (82,20,10), -- Олія соняшникова
            (82,34,3), -- Сіль кухонна
            (82,47,200), -- Вода питна
    
            -- Деруни з соусом зі сметани (83)
            (83,1,200), -- Картопля
            (83,3,30), -- Цибуля
            (83,14,50), -- Яйце куряче
            (83,21,30), -- Борошно пшеничне
            (83,34,3), -- Сіль кухонна
            (83,20,20), -- Олія соняшникова
            (83,16,50), -- Сметана 15% (для соусу)
    
            -- Яблучне пюре (84)
            (84,11,200), -- Яблука
            (84,32,20), -- Цукор білий
            (84,47,50), -- Вода питна
    
            -- Холодний огірковий soup (85)
            (85,5,150), -- Огірки
            (85,37,200), -- Кефір 2,5%
            (85,34,2), -- Сіль кухонна
            (85,47,50), -- Вода питна
    
            -- Картопляні зрази (86)
            (86,1,250), -- Картопля
            (86,21,30), -- Борошно пшеничне
            (86,14,50), -- Яйце куряче
            (86,34,3), -- Сіль кухонна
            (86,20,20), -- Олія соняшникова
            -- Начинки немає, так як її складно узагальнити без конкретних продуктів
    
            -- Узвар з грушами (87) - груш немає, замінимо яблуками
            (87,11,50), -- Яблука (сушені)
            (87,32,30), -- Цукор білий
            (87,47,500), -- Вода питна
    
            -- Бурякова ікра (88)
            (88,6,200), -- Буряк
            (88,10,10), -- Часник
            (88,20,15), -- Олія соняшникова
            (88,34,2), -- Сіль кухонна
    
            -- Сирники з родзинками (89)
            (89,17,200), -- Сир кисломолочний 5%
            (89,14,50), -- Яйце куряче
            (89,21,30), -- Борошно пшеничне
            (89,32,20), -- Цукор білий
            (89,13,20), -- Родзинки
            (89,20,15), -- Олія соняшникова (для смаження)
    
            -- Гречка з печінкою (90)
            (90,24,150), -- Гречка
            (90,30,100), -- Печінка куряча
            (90,3,30), -- Цибуля
            (90,20,10), -- Олія соняшникова
            (90,34,3), -- Сіль кухонна
            (90,47,100), -- Вода питна
    
            -- salad з куркою та грибами (91)
            (91,27,150), -- Куряче філе
            (91,31,100), -- Гриби печериці
            (91,14,50), -- Яйце куряче
            (91,16,50), -- Сметана 15% (або майонез)
            (91,34,2), -- Сіль кухонна
    
            -- Яблучно-грушевий компот (92) - груш немає
            (92,11,150), -- Яблука
            (92,32,30), -- Цукор білий
            (92,47,500), -- Вода питна
    
            -- Пшенична каша (93)
            (93,21,100), -- Борошно пшеничне (як пшениця)
            (93,47,200), -- Вода питна
            (93,34,2), -- Сіль кухонна
            (93,19,10), -- Масло вершкове 82%
    
            -- Кабачки тушковані з овочами (94)
            (94,8,200), -- Кабачки
            (94,2,80), -- Морква
            (94,3,50), -- Цибуля
            (94,4,100), -- Помідори
            (94,20,15), -- Олія соняшникова
            (94,34,3), -- Сіль кухонна
            (94,47,50), -- Вода питна
    
            -- Лимонад з м’ятою (95)
            (95,39,100), -- Лимон (сік)
            (95,32,50), -- Цукор білий
            (95,47,500) -- Вода питна
            ;',
        ],
        [
            'table' => 'workouts',
            'query' => "INSERT INTO `workouts`(`title`, `description`, `kcal`) VALUES 
            ('Біг підтюпцем','Легка пробіжка на відкритому повітрі або біговій доріжці зі швидкістю 8-9 км/год.', 500),
            ('Силове тренування', 'Заняття з гантелями, штангою або на тренажерах для розвитку сили та м’язів.',450),
            ('Йога', 'Спокійна практика розтяжки, дихальних вправ і асан для гнучкості та зняття стресу.',200),
            ('Плавання', 'Інтенсивне або середнє плавання у басейні (кроль, брас, на спині).',600),
            ('Велосипед', 'Прогулянка або інтенсивне катання на велосипеді по місту або лісу.',550),
            ('Пілатес', 'Комплекс вправ для розвитку м’язів-стабілізаторів, покращення постави та тонусу тіла.', 250),
            ('Степ-аеробіка','Групове заняття з підйомами на степ-платформу під ритмічну музику.',500),
            ('Танцювальний фітнес (Zumba)','Рухливі заняття під латиноамериканську та сучасну музику.',550),
            ('Ходьба швидким темпом','Прогулянка пішки зі швидкістю 6-7 км/год по парку чи місту.',300),
            ('HIIT (інтервальні тренування)','Короткі інтенсивні цикли вправ із мінімальним відпочинком.',700);"
        ]
    ];


    static function run()
    {
        if (!isset($_SESSION['migration'])) {
            //create tables
            foreach (self::$tables as $key => $data) {
                self::createTable($key, $data);
            }
            //fill tables
            foreach (self::$insert_data as $item) {
                self::fillTable($item['table'], $item['query']);
            }
            $admin_password = md5('secret123');
            $user_password = md5('123456');
            self::fillTable($item['users'], "INSERT INTO users(login,email,password) VALUES ('admin','testuser@test.com','$admin_password'),('user','testuser@test.com','$user_password');");
            $_SESSION['migration'] = true;
        }
    }
    static function reset()
    {
        DB::query("DROP TABLE `recipe_in_diets`;");
        DB::query("DROP TABLE `product_in_diets`;");
        DB::query("DROP TABLE `allergies_on_products`;");
        DB::query("DROP TABLE `liked_products`;");
        DB::query("DROP TABLE `liked_recipes`;");
        DB::query("DROP TABLE `meals`;");
        DB::query("DROP TABLE `users_allergies`;");
        DB::query("DROP TABLE `users_diets`;");
        DB::query("DROP TABLE `workouts_user`;");
        DB::query("DROP TABLE `workouts`;");
        DB::query("DROP TABLE `weigths`;");
        DB::query("DROP TABLE `products_in_recipes`;");
        DB::query("DROP TABLE `products`;");
        DB::query("DROP TABLE `allergies`;");
        DB::query("DROP TABLE `diets`;");
        DB::query("DROP TABLE `recipes`;");
        DB::query("DROP TABLE `users`;");
        unset($_SESSION['migration']);
    }
    static function getFieldPK()
    {
        return "id INT AUTO_INCREMENT PRIMARY KEY";
    }

    static function getFieldFK($name, $table)
    {
        return "FOREIGN KEY ($name) REFERENCES $table(id)";
    }
    static function getField($name, $type, $notNull = false): string
    {
        $nullStr = $notNull ? "NOT NULL" : "";
        return "$name {$type->value} $nullStr";
    }
    static function createTable($name, $data)
    {
        $rows_str = self::getFieldPK();
        $fks = [];
        foreach ($data as $row) {
            $rows_str .= ", " . self::getField($row[0], $row[1], );
            if (isset($row[3]))
                array_push($fks, [$row[0], $row[3]]);
        }
        foreach ($fks as $fk) {
            $rows_str .= ", " . self::getFieldFK($fk[0], $fk[1]);
        }
        $query = "CREATE TABLE IF NOT EXISTS $name ($rows_str)";
        DB::query($query);
    }
    static function fillTable($table, $query)
    {
        try {
            $db = DB::connect();
            $check_data = DB::selectOne($table);
            if (!empty($check_data))
                return;
            else
                $db->exec($query);
        } catch (Exception $e) {
            Data::MySQLError($e, $query);
        }
    }
}
